function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},r=n.parcelRequiredb41;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},n.parcelRequiredb41=r),r.register("kyEFX",(function(t,n){var o,a;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var r={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},a=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"5ZPII":"index.c3aa28da.js","lp5u4":"sprite.9a5fa65b.svg"}'));const l=document.querySelector(".js-modal-open"),i=document.querySelector(".js-modal-close"),d=document.querySelector(".js-modal-team");function s(){d.classList.toggle("is-hidden")}function c(){s(),i.removeEventListener("click",c),document.body.removeAttribute("style")}function u(e){e.currentTarget===e.target&&(document.body.removeAttribute("style"),s(),document.removeEventListener("keydown",m),d.removeEventListener("click",u))}function m(e){"Escape"==e.code&&(s(),document.removeEventListener("keydown",m),i.removeEventListener("click",c),d.removeEventListener("click",u))}l.addEventListener("click",(function(e){e.preventDefault(),s(),document.addEventListener("keydown",m),document.body.style.overflow="hidden",i.addEventListener("click",c),d.addEventListener("click",u)}));let p=document.querySelector(".mask");window.addEventListener("load",(()=>{p.classList.add("hide"),setTimeout((()=>{p.remove()}),600)}));({el:document.querySelector(".btn-up"),show(){this.el.classList.remove("btn-up_hide")},hide(){this.el.classList.add("btn-up_hide")},addEventListener(){window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>400?this.show():this.hide()})),document.querySelector(".btn-up").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener();var v=r("2shzp"),f=r("6zS6b");const y=v.default.create({baseURL:"https://api.themoviedb.org/3/search/movie?api_key=f9f6d3f14431911aa9602e018f8e4b77&language=en-US&page=1&include_adult=false"});document.querySelector("#header__form").addEventListener("submit",(async function(e){e.preventDefault();const t=e.target.elements.query.value;console.log(t),async function(e){return await y.get(`&query=${e}`)}(t).then((({data:e})=>{console.log(e.results),(0,f.renderList)(document.querySelector(".gallery__list"),e.results)}))}));var b;v=r("2shzp");b=new URL(r("kyEFX").resolve("lp5u4"),import.meta.url).toString();const g=document.querySelector(".gallery__list"),h=document.querySelector("[data-modal]"),w=document.querySelector("[data-modal-close]"),k=document.querySelector(".modal-wrap");function L(e){const t=document.querySelector(".backdrop-info");"Escape"!==e.key&&"click"!==e.type||(h.classList.toggle("is-hidden"),k.innerHTML="",document.body.style.overflow="",t.style.backgroundImage="",document.removeEventListener("keydown",L))}g.addEventListener("click",(async function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;h.classList.toggle("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",L);const n=e.target.closest(".gallery__item").getAttribute("data-id"),o=await async function(e){const t=e,n=new URLSearchParams({api_key:"7c0c458e245909c66f3397c50f32766a"});return v.default.get(`https://api.themoviedb.org/3/movie/${t}?${n}`)}(n).then((e=>(console.log(e),e.data)));(function(e){const t=document.querySelector(".backdrop-info");t.style.backgroundImage=`url(https://image.tmdb.org/t/p/w1280/${e.backdrop_path})`,t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundPosition="center"})(o),k.insertAdjacentHTML("afterBegin",(a=o,`<div class="modal-img-wrap">\n          <div class="modal-wrap-img-btn"><img src="https://image.tmdb.org/t/p/w500/${a.poster_path}" alt="${a.title}" class="modal-image" width="500" height="750"/>\n            <button type="button" class="modal-btn-trailer"><svg class="btn-trailer-icon"><use href="${t(b)}#icon-play"></use></svg>\n          </button></div>\n      </div>\n      <div class="modal-info">\n        <h2 class="modal-info-name">${a.title}</h2>\n                <ul class="modal-info-list">\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Vote / Votes</p>\n            <p class="modal-info-value"><span class="modal-info-value-vote">${a.vote_average.toFixed(1)}</span>/<span\n                class="modal-info-value-votes"\n                >${a.vote_count}</span\n              ></p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Popularity</p>\n            <p class="modal-info-value">${a.popularity.toFixed(1)}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Original Title</p>\n            <p class="modal-info-value">${a.original_title}</p>\n          </li>\n          <li class="modal-info-item">\n            <p class="modal-info-name-value">Genre</p>\n            <p class="modal-info-value">${a.genres.map((e=>e.name)).join(", ")}</p>\n          </li>\n        </ul>\n        <p class="modal-info-pre-about">About</p>\n        <p class="modal-info-about">\n          ${a.overview}\n        </p>\n        <div class="btn-modal-wrap">\n\t\t  <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn" data-watched="${a.id}">\n            Add to watched\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-rem" data-watched-rem="${a.id}">\n\t\t Remove from watched\n          </button>\n\t\t\t </div>\n\t\t\t <div class="modal-btn-wrap">\n          <button type="button" class="modal-btn" data-queue="${a.id}">\n            Add to queue\n          </button>\n\t\t\t <button type="button" class="modal-btn modal-btn-rem" data-queue-rem="${a.id}">\n\t\t Remove from queue\n          </button>\n\t\t\t </div>\n        </div>\n      </div>`));var a;const r=document.querySelector(".modal-btn-trailer"),l=document.querySelector(".modal-img-wrap");r.addEventListener("click",(async function(){const t=e.target.closest(".gallery__item").getAttribute("data-id"),n=await async function(e){const t=new URLSearchParams({api_key:"7c0c458e245909c66f3397c50f32766a"});return v.default.get(`https://api.themoviedb.org/3/movie//${e}/videos?${t}`)}(t).then((e=>e.data)),o=n.results.length-1;l.remove(),r.style.display="none",k.insertAdjacentHTML("afterBegin",function({key:e}){return`<iframe\n  width="375"\n    height="478"\n    src="https://www.youtube.com/embed/${e}"\n    title="YouTube video player"\n    frameborder="0"\n    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n    allowfullscreen\n    waitUntil()\n    class='modal-image'\n  ></iframe>`}(n.results[o]))}))})),h.addEventListener("keydown",L),h.addEventListener("click",(function(e){const t=document.querySelector(".backdrop-info");e.target===e.currentTarget&&(h.classList.toggle("is-hidden"),k.innerHTML="",document.body.style.overflow="",t.style.backgroundImage="",document.removeEventListener("keydown",L))})),w.addEventListener("click",L);
//# sourceMappingURL=index.c3aa28da.js.map
