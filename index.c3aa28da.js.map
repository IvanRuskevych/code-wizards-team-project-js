{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,kGCAzD,MAAMC,EAAcC,SAASC,cAAc,kBACrCC,EAAeF,SAASC,cAAc,mBACtCE,EAAYH,SAASC,cAAc,kBAczC,SAASG,IACPD,EAAUE,UAAUC,OAAO,Y,CAG7B,SAASC,IACPH,IAEAF,EAAaM,oBAAoB,QAASD,GAC1CP,SAASS,KAAKC,gBAAgB,Q,CAGhC,SAASC,EAAgBC,GACnBA,EAAIC,gBAAkBD,EAAIE,SAC5Bd,SAASS,KAAKC,gBAAgB,SAC9BN,IAEAJ,SAASQ,oBAAoB,UAAWO,GACxCZ,EAAUK,oBAAoB,QAASG,G,CAI3C,SAASI,EAAWC,GACG,UACJA,EAAEC,OAGjBb,IAEAJ,SAASQ,oBAAoB,UAAWO,GAExCb,EAAaM,oBAAoB,QAASD,GAC1CJ,EAAUK,oBAAoB,QAASG,G,CA3C3CZ,EAAYmB,iBAAiB,SAE7B,SAAyBF,GACvBA,EAAEG,iBACFf,IAEAJ,SAASkB,iBAAiB,UAAWH,GACrCf,SAASS,KAAKW,MAAMC,SAAW,SAC/BnB,EAAagB,iBAAiB,QAASX,GACvCJ,EAAUe,iBAAiB,QAASP,E,ICbtC,IAAIW,EAAOtB,SAASC,cAAc,SAElCsB,OAAOL,iBAAiB,QAAQ,KAC5BI,EAAKjB,UAAUmB,IAAI,QACnBC,YAAW,KACPH,EAAKI,QAAQ,GACd,IAAI,KCNG,CACVC,GAAI3B,SAASC,cAAc,WAC3B2B,OAEIC,KAAKF,GAAGtB,UAAUqB,OAAO,c,EAE7BI,OAEID,KAAKF,GAAGtB,UAAUmB,IAAI,c,EAE1BN,mBAEIK,OAAOL,iBAAiB,UAAU,MAEdK,OAAOQ,SAAW/B,SAASgC,gBAAgBC,WAEjD,IAAMJ,KAAKD,OAASC,KAAKC,MAAM,IAG7C9B,SAASC,cAAc,WAAWiC,QAAU,KACxCX,OAAOY,SAAS,CACZC,IAAK,EACLC,KAAM,EACNC,SAAU,UACZ,C,IAKRpB,mBC7BN,IAAAqB,EAAA5C,EAAA,S,aAIO,MAAM6C,EAAWD,EAAAE,QAAMC,OAAO,CACpCC,QACC,iIAUoB3C,SAASC,cAAc,iBAM/BiB,iBAAiB,UAE/B0B,eAAqCC,GACpCA,EAAM1B,iBAMN,MAAM2B,EAAmBD,EAAM/B,OAAOiC,SAASC,MAAMC,MAGrDC,QAAQC,IAAIL,GAxBbF,eAA+BQ,GAC9B,aAAaZ,EAASa,IAAI,UAAWD,I,CA0BrCE,CAAgBR,GAAkBS,MAAK,EAACC,KAAEA,MACzCN,QAAQC,IAAIK,EAAKC,UAmBjB,EAAAC,EAAAC,YAAW3D,SAASC,cAAc,kBAAmBuD,EAAKC,QAAQ,G,ICzDpE,I,EAAAlB,EAAA5C,EAAA,SCAAiE,EAAiB,IAAAC,IAAoBlE,EAAA,SAAAmE,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDqB5F,MAAMC,EAAcnE,SAASC,cAAc,kBACrCmE,EAAQpE,SAASC,cAAc,gBAC/BoE,EAAgBrE,SAASC,cAAc,sBACvCqE,EAAYtE,SAASC,cAAc,eAwHzC,SAASsE,EAAWvD,GAClB,MAAMwD,EAAWxE,SAASC,cAAc,kBAC1B,WAAVe,EAAEyD,KAA+B,UAAXzD,EAAE0D,OAC1BN,EAAM/D,UAAUC,OAAO,aACvBgE,EAAUK,UAAY,GACtB3E,SAASS,KAAKW,MAAMC,SAAW,GAC/BmD,EAASpD,MAAMwD,gBAAkB,GACjC5E,SAASQ,oBAAoB,UAAW+D,G,CA9H5CJ,EAAYjD,iBAAiB,SAK7B0B,eAA0BiC,GAExB,GADEA,EAAK1D,iBACsB,QAAzB0D,EAAK/D,OAAOgE,SACd,OAEFV,EAAM/D,UAAUC,OAAO,aACvBN,SAASS,KAAKW,MAAMC,SAAW,SAC/BrB,SAASkB,iBAAiB,UAAWqD,GAEvC,MACMQ,EADKF,EAAK/D,OAAOkE,QAAQ,kBACjBC,aAAa,WACrBC,QApCNtC,eAA6BpD,GACzB,MAAM2F,EAAW3F,EACX4F,EAAe,IAAIC,gBAAgB,CACvCC,QAPU,qCASZ,OAAO/C,EAAAE,QAAMY,IAAI,sCAAY8B,KAAYC,I,CA+BtBG,CAAcR,GAAIxB,MAAKiC,IAC9CtC,QAAQC,IAAIqC,GACDA,EAAEhC,SA2Bb,SAAwB7B,GACtB,MAAM6C,EAAWxE,SAASC,cAAc,kBACxCuE,EAASpD,MAAMwD,gBAAkB,wCAAwCjD,EAAG8D,iBAC5EjB,EAASpD,MAAMsE,iBAAmB,YAClClB,EAASpD,MAAMuE,eAAiB,QAChCnB,EAASpD,MAAMwE,mBAAqB,Q,EA5BtCC,CAAeX,GACfZ,EAAUwB,mBAAmB,cA8BFnE,EA9BkCuD,EA+BtD,qHAEKvD,EAAGoE,qBACKpE,EAAGqE,+JACgFC,EAAArC,4IAIjEjC,EAAGqE,gPAIqCrE,EAAGuE,aAAaC,QAC9E,qFAGGxE,EAAGyE,wMAKoBzE,EAAG0E,WAAWF,QACxC,6KAK0BxE,EAAG2E,gLAIH3E,EAAG4E,OAC9BC,KAAI3B,GAAQA,EAAKzB,OACjBqD,KAAK,iJAKR9E,EAAG+E,qKAImD/E,EAAGnC,yIAIrDmC,EAAGnC,0KAM6CmC,EAAGnC,qIAInDmC,EAAGnC,mGAzDnB,IAA2BmC,EA5B3B,MAAMgF,EAAW3G,SAASC,cAAc,sBAClC2G,EAAU5G,SAASC,cAAc,mBACvC0G,EAASzF,iBAAiB,SAE1B0B,iBACA,MACMpD,EADKqF,EAAK/D,OAAOkE,QAAQ,kBACjBC,aAAa,WACrB4B,QA5CJjE,eAAgCpD,GAC9B,MAAM4F,EAAe,IAAIC,gBAAgB,CACvCC,QAdU,qCAgBZ,OAAO/C,EAAAE,QAAMY,IAAI,uCAAa7D,YAAa4F,I,CAwCxB0B,CAAiBtH,GAAI+D,MAAKiC,GAC1CA,EAAEhC,OAEHuD,EAAgBF,EAASpD,QAAQlE,OAAS,EAChDqH,EAAQlF,SACRiF,EAASvF,MAAM4F,QAAU,OACzB1C,EAAUwB,mBACV,aAsGA,UAAqBrB,IAAEA,IACrB,MAAO,oFAGgCA,yP,CAzGzCwC,CAAYJ,EAASpD,QAAQsD,I,OAvC7B3C,EAAMlD,iBAAiB,UAAWqD,GAClCH,EAAMlD,iBAAiB,SAgIvB,SAA2BF,GACzB,MAAMwD,EAAWxE,SAASC,cAAc,kBACpCe,EAAEF,SAAWE,EAAEH,gBACjBuD,EAAM/D,UAAUC,OAAO,aACvBgE,EAAUK,UAAY,GACtB3E,SAASS,KAAKW,MAAMC,SAAW,GAC/BmD,EAASpD,MAAMwD,gBAAkB,GACjC5E,SAASQ,oBAAoB,UAAW+D,G,IAtI5CF,EAAcnD,iBAAiB,QAASqD","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-7e9ff0f78ed88bc7.js","src/js/teamModal.js","src/js/spinner.js","src/js/scroll.js","src/js/searchAPI.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.c3aa28da.js\\\",\\\"lp5u4\\\":\\\"sprite.9a5fa65b.svg\\\"}\"));","const openTeamBtn = document.querySelector('.js-modal-open');\nconst closeTeamBtn = document.querySelector('.js-modal-close');\nconst modalTeam = document.querySelector('.js-modal-team');\n\nopenTeamBtn.addEventListener('click', onOpenTeamModal);\n\nfunction onOpenTeamModal(e) {\n  e.preventDefault();\n  toggleTeamModal();\n\n  document.addEventListener('keydown', onEscPress);\n  document.body.style.overflow = 'hidden';\n  closeTeamBtn.addEventListener('click', onCloseTeamModal);\n  modalTeam.addEventListener('click', onBackdropClick);\n}\n\nfunction toggleTeamModal() {\n  modalTeam.classList.toggle('is-hidden');\n}\n\nfunction onCloseTeamModal() {\n  toggleTeamModal();\n\n  closeTeamBtn.removeEventListener('click', onCloseTeamModal);\n  document.body.removeAttribute('style');\n}\n\nfunction onBackdropClick(evt) {\n  if (evt.currentTarget === evt.target) {\n    document.body.removeAttribute('style');\n    toggleTeamModal();\n\n    document.removeEventListener('keydown', onEscPress);\n    modalTeam.removeEventListener('click', onBackdropClick);\n  }\n}\n\nfunction onEscPress(e) {\n  const ESK_KEY_CODE = 'Escape';\n  const isEskKey = e.code == ESK_KEY_CODE;\n\n  if (isEskKey) {\n    toggleTeamModal();\n\n    document.removeEventListener('keydown', onEscPress);\n\n    closeTeamBtn.removeEventListener('click', onCloseTeamModal);\n    modalTeam.removeEventListener('click', onBackdropClick);\n  }\n}\n\n","let mask = document.querySelector('.mask');\n\nwindow.addEventListener('load', () => {\n    mask.classList.add('hide')\n    setTimeout(() => {\n        mask.remove();\n    }, 600)\n});","const btnUp = {\n    el: document.querySelector('.btn-up'),\n    show() {\n\n        this.el.classList.remove('btn-up_hide');\n    },\n    hide() {\n\n        this.el.classList.add('btn-up_hide');\n    },\n    addEventListener() {\n\n        window.addEventListener('scroll', () => {\n\n            const scrollY = window.scrollY || document.documentElement.scrollTop;\n\n            scrollY > 400 ? this.show() : this.hide();\n        });\n\n        document.querySelector('.btn-up').onclick = () => {\n            window.scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        }\n    }\n}\n\nbtnUp.addEventListener();","import axios from 'axios';\nimport {renderList} from \"./fetchAPITrends.js\"\n// const API_KEY = 'f9f6d3f14431911aa9602e018f8e4b77' матвея ключ 7c0c458e245909c66f3397c50f32766a\nlet pageState = 1;\nexport const instance = axios.create({\n\tbaseURL:\n\t\t'https://api.themoviedb.org/3/search/movie?api_key=f9f6d3f14431911aa9602e018f8e4b77&language=en-US&page=1&include_adult=false',\n});\n\n\nasync function getMoviesByName(name) {\n\treturn await instance.get(`&query=${ name }`);\n}\n\n//   const formElement = document.forms.header__form;\n\nconst searchBarForm = document.querySelector('#header__form');\n// console.log(searchBarForm);\n// я матвея другое название - подставить\n// const allMoviesPlace = document.querySelector('.gallery__list');\n// console.log(allMoviesPlace);\n\nsearchBarForm.addEventListener('submit', onSearchBarFormSubmit);\n\nasync function onSearchBarFormSubmit(event) {\n\tevent.preventDefault();\n\n\n\n\t//   const onSearchBarInput = formElement.query.value;\n\n\tconst onSearchBarInput = event.target.elements.query.value;\n\n\n\tconsole.log(onSearchBarInput);\n\t// Обьект получаем\n\n\tgetMoviesByName(onSearchBarInput).then(({ data }) => {\n\t\tconsole.log(data.results)\n\t// \tconst gallaryItem = data.results.map(element => {\n\t// \t\t// console.log(getGenres(element.genre_ids[0]))\n\t// \t\treturn `\n\t// \t<li class=\"gallery__item\" data-id=\"${element.id}\">\n    //     <img src=\"https://image.tmdb.org/t/p/w500${element.poster_path}\" alt=\"\" class=\"gallery__item-img\">\n    //     <p class=\"gallery__item-descr\">\n    //       <span class=\"gallery__item-name\">\n    //         ${element.title || element.name}\n    //       </span>\n    //       <span class=\"gallery__item-genres\">\n    //         ${element.genre_ids} | ${(element.release_date || element.first_air_date).slice(0, 4)}\n    //       </span>\n    //     </p>\n    //   </li>\n\t// \t`\n\t// \t}).join('');\n\t// \tdocument.querySelector('.gallery__list').innerHTML = gallaryItem\n\t\t\n\t\trenderList(document.querySelector('.gallery__list'), data.results)\n\t\t\n    })\n}","import axios from 'axios';\nconst API_KEY = '7c0c458e245909c66f3397c50f32766a';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst ID_URL = `${BASE_URL}/movie/`;\n\nasync function fetchFilmById(id) {\n    const movie_id = id;\n    const searchParams = new URLSearchParams({\n      api_key: API_KEY,\n    });\n    return axios.get(`${ID_URL}${movie_id}?${searchParams}`);\n  }\n\n  async function fetchFilmTrailer(id) {\n    const searchParams = new URLSearchParams({\n      api_key: API_KEY,\n    });\n    return axios.get(`${ID_URL}/${id}/videos?${searchParams}`);\n  }\n\nimport sprite from '../images/sprite.svg';\nconst galleryList = document.querySelector('.gallery__list');\nconst modal = document.querySelector('[data-modal]');\nconst closeModalBtn = document.querySelector('[data-modal-close]');\nconst modalWrap = document.querySelector('.modal-wrap');\ngalleryList.addEventListener('click', openModal);\nmodal.addEventListener('keydown', closeModal);\nmodal.addEventListener('click', closeModalbyClick);\ncloseModalBtn.addEventListener('click', closeModal);\n\nasync function openModal (item) {\n    item.preventDefault();\n  if (item.target.nodeName !== 'IMG') {\n    return;\n  }\n  modal.classList.toggle('is-hidden');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', closeModal);\n\nconst li = item.target.closest('.gallery__item');\nconst id = li.getAttribute('data-id');\nconst response = await fetchFilmById(id).then(r => {\nconsole.log(r)\n    return r.data;\n});\n\n\nrenderBackdrop(response);\nmodalWrap.insertAdjacentHTML('afterBegin', renderMarkupModal(response));\n\nconst btnTreil = document.querySelector('.modal-btn-trailer');\nconst wrapIMG = document.querySelector('.modal-img-wrap');\nbtnTreil.addEventListener('click', onClickWatch);\n\nasync function onClickWatch() {\nconst li = item.target.closest('.gallery__item');\nconst id = li.getAttribute('data-id');\nconst response = await fetchFilmTrailer(id).then(r => {\nreturn r.data;\n});\nconst officialTrail = response.results.length - 1;\nwrapIMG.remove();\nbtnTreil.style.display = 'none';\nmodalWrap.insertAdjacentHTML(\n'afterBegin',\nrenderTrail(response.results[officialTrail])\n);\n}\n}\n\nfunction renderBackdrop(el) {\n  const backdrop = document.querySelector('.backdrop-info');\n  backdrop.style.backgroundImage = `url(https://image.tmdb.org/t/p/w1280/${el.backdrop_path})`;\n  backdrop.style.backgroundRepeat = 'no-repeat';\n  backdrop.style.backgroundSize = 'cover';\n  backdrop.style.backgroundPosition = 'center';\n}\n\nfunction renderMarkupModal(el) {\nreturn `<div class=\"modal-img-wrap\">\n          <div class=\"modal-wrap-img-btn\"><img src=\"https://image.tmdb.org/t/p/w500/${\n            el.poster_path\n          }\" alt=\"${el.title}\" class=\"modal-image\" width=\"500\" height=\"750\"/>\n            <button type=\"button\" class=\"modal-btn-trailer\"><svg class=\"btn-trailer-icon\"><use href=\"${sprite}#icon-play\"></use></svg>\n          </button></div>\n      </div>\n      <div class=\"modal-info\">\n        <h2 class=\"modal-info-name\">${el.title}</h2>\n                <ul class=\"modal-info-list\">\n          <li class=\"modal-info-item\">\n            <p class=\"modal-info-name-value\">Vote / Votes</p>\n            <p class=\"modal-info-value\"><span class=\"modal-info-value-vote\">${el.vote_average.toFixed(\n                1\n              )}</span>/<span\n                class=\"modal-info-value-votes\"\n                >${el.vote_count}</span\n              ></p>\n          </li>\n          <li class=\"modal-info-item\">\n            <p class=\"modal-info-name-value\">Popularity</p>\n            <p class=\"modal-info-value\">${el.popularity.toFixed(\n                1\n              )}</p>\n          </li>\n          <li class=\"modal-info-item\">\n            <p class=\"modal-info-name-value\">Original Title</p>\n            <p class=\"modal-info-value\">${el.original_title}</p>\n          </li>\n          <li class=\"modal-info-item\">\n            <p class=\"modal-info-name-value\">Genre</p>\n            <p class=\"modal-info-value\">${el.genres\n              .map(item => item.name)\n              .join(', ')}</p>\n          </li>\n        </ul>\n        <p class=\"modal-info-pre-about\">About</p>\n        <p class=\"modal-info-about\">\n          ${el.overview}\n        </p>\n        <div class=\"btn-modal-wrap\">\n\t\t  <div class=\"modal-btn-wrap\">\n          <button type=\"button\" class=\"modal-btn\" data-watched=\"${el.id}\">\n            Add to watched\n          </button>\n\t\t\t <button type=\"button\" class=\"modal-btn modal-btn-rem\" data-watched-rem=\"${\n                el.id\n       }\">\n\t\t Remove from watched\n          </button>\n\t\t\t </div>\n\t\t\t <div class=\"modal-btn-wrap\">\n          <button type=\"button\" class=\"modal-btn\" data-queue=\"${el.id}\">\n            Add to queue\n          </button>\n\t\t\t <button type=\"button\" class=\"modal-btn modal-btn-rem\" data-queue-rem=\"${\n                el.id\n       }\">\n\t\t Remove from queue\n          </button>\n\t\t\t </div>\n        </div>\n      </div>`;\n}\n\nfunction closeModal(e) {\n  const backdrop = document.querySelector('.backdrop-info');\n  if (e.key === 'Escape' || e.type === 'click') {\n    modal.classList.toggle('is-hidden');\n    modalWrap.innerHTML = '';\n    document.body.style.overflow = '';\n    backdrop.style.backgroundImage = '';\n    document.removeEventListener('keydown', closeModal);\n  }\n}\n\nfunction closeModalbyClick(e) {\n  const backdrop = document.querySelector('.backdrop-info');\n  if (e.target === e.currentTarget) {\n    modal.classList.toggle('is-hidden');\n    modalWrap.innerHTML = '';\n    document.body.style.overflow = '';\n    backdrop.style.backgroundImage = '';\n    document.removeEventListener('keydown', closeModal);\n  }\n}\n\nfunction renderTrail({ key }) {\n  return `<iframe\n  width=\"375\"\n    height=\"478\"\n    src=\"https://www.youtube.com/embed/${key}\"\n    title=\"YouTube video player\"\n    frameborder=\"0\"\n    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n    allowfullscreen\n    waitUntil()\n    class='modal-image'\n  ></iframe>`;\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$168208cea78757da$var$openTeamBtn","document","querySelector","$168208cea78757da$var$closeTeamBtn","$168208cea78757da$var$modalTeam","$168208cea78757da$var$toggleTeamModal","classList","toggle","$168208cea78757da$var$onCloseTeamModal","removeEventListener","body","removeAttribute","$168208cea78757da$var$onBackdropClick","evt","currentTarget","target","$168208cea78757da$var$onEscPress","e","code","addEventListener","preventDefault","style","overflow","$00cfbbdd8a53f936$var$mask","window","add","setTimeout","remove","el","show","this","hide","scrollY","documentElement","scrollTop","onclick","scrollTo","top","left","behavior","$2shzp","$85df6720e93664b5$export$9544d5bb712b01ea","default","create","baseURL","async","event","onSearchBarInput","elements","query","value","console","log","name","get","$85df6720e93664b5$var$getMoviesByName","then","data","results","$6zS6b","renderList","$a4212a039eccdb43$exports","URL","resolve","import","meta","url","toString","$8a7e756c566dd1ea$var$galleryList","$8a7e756c566dd1ea$var$modal","$8a7e756c566dd1ea$var$closeModalBtn","$8a7e756c566dd1ea$var$modalWrap","$8a7e756c566dd1ea$var$closeModal","backdrop","key","type","innerHTML","backgroundImage","item","nodeName","id1","closest","getAttribute","response1","movie_id","searchParams","URLSearchParams","api_key","$8a7e756c566dd1ea$var$fetchFilmById","r","backdrop_path","backgroundRepeat","backgroundSize","backgroundPosition","$8a7e756c566dd1ea$var$renderBackdrop","insertAdjacentHTML","poster_path","title","$parcel$interopDefault","vote_average","toFixed","vote_count","popularity","original_title","genres","map","join","overview","btnTreil","wrapIMG","response","$8a7e756c566dd1ea$var$fetchFilmTrailer","officialTrail","display","$8a7e756c566dd1ea$var$renderTrail"],"version":3,"file":"index.c3aa28da.js.map"}